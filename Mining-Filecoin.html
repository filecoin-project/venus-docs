<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mining Filecoin | Venus Filecoin</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/assets/icon-coin-128.png">
    <meta name="description" content="Venus is a Go implementation of the Filecoin Distributed Storage Network.">
    
    <link rel="preload" href="/assets/css/0.styles.32c182d5.css" as="style"><link rel="preload" href="/assets/js/app.9cf591df.js" as="script"><link rel="preload" href="/assets/js/2.a315f92a.js" as="script"><link rel="preload" href="/assets/js/12.a74e2394.js" as="script"><link rel="prefetch" href="/assets/js/10.79982f23.js"><link rel="prefetch" href="/assets/js/11.a0a364ac.js"><link rel="prefetch" href="/assets/js/13.bd3d8178.js"><link rel="prefetch" href="/assets/js/14.8adb35e9.js"><link rel="prefetch" href="/assets/js/15.c9768e00.js"><link rel="prefetch" href="/assets/js/16.a7e61919.js"><link rel="prefetch" href="/assets/js/17.5e2e6093.js"><link rel="prefetch" href="/assets/js/18.fb566c4e.js"><link rel="prefetch" href="/assets/js/3.7cfd3514.js"><link rel="prefetch" href="/assets/js/4.4dde0b7b.js"><link rel="prefetch" href="/assets/js/5.14cf25af.js"><link rel="prefetch" href="/assets/js/6.924e8610.js"><link rel="prefetch" href="/assets/js/7.db8f4db6.js"><link rel="prefetch" href="/assets/js/8.e5e8e478.js"><link rel="prefetch" href="/assets/js/9.bbac6071.js">
    <link rel="stylesheet" href="/assets/css/0.styles.32c182d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/filecoin-logo.svg" alt="Venus Filecoin" class="logo"> <span class="site-name can-hide">Venus Filecoin</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://docs.filecoin.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Filecoin Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/filecoin-project/venus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://docs.filecoin.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Filecoin Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/filecoin-project/venus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Venus Filecoin Tutorial</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Home.html" class="sidebar-link">Overview</a></li><li><a href="/Getting-Started.html" class="sidebar-link">Getting started</a></li><li><a href="/Mining-Filecoin.html" aria-current="page" class="active sidebar-link">Mining Filecoin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Mining-Filecoin.html#table-of-contents" class="sidebar-link">Table of contents</a></li><li class="sidebar-sub-header"><a href="/Mining-Filecoin.html#what-is-mining" class="sidebar-link">What is mining?</a></li><li class="sidebar-sub-header"><a href="/Mining-Filecoin.html#start-mining" class="sidebar-link">Start mining</a></li><li class="sidebar-sub-header"><a href="/Mining-Filecoin.html#explore-mined-blocks" class="sidebar-link">Explore mined blocks</a></li><li class="sidebar-sub-header"><a href="/Mining-Filecoin.html#set-your-price-for-storage" class="sidebar-link">Set your price for storage</a></li><li class="sidebar-sub-header"><a href="/Mining-Filecoin.html#accept-a-deal-and-get-paid" class="sidebar-link">Accept a deal and get paid</a></li><li class="sidebar-sub-header"><a href="/Mining-Filecoin.html#stop-mining" class="sidebar-link">Stop mining</a></li><li class="sidebar-sub-header"><a href="/Mining-Filecoin.html#advanced-options" class="sidebar-link">Advanced options</a></li></ul></li><li><a href="/Storing-on-Filecoin.html" class="sidebar-link">Storing on Filecoin</a></li><li><a href="/Troubleshooting-&amp;-FAQ.html" class="sidebar-link">Troubleshooting &amp; FAQ</a></li><li><a href="/Commands.html" class="sidebar-link">CLI commands</a></li><li><a href="/How-to-connect-two-nodes-directly.html" class="sidebar-link">Connecting two nodes directly</a></li><li><a href="/Running-a-network-locally.html" class="sidebar-link">Running a local network</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resources</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mining-filecoin"><a href="#mining-filecoin" class="header-anchor">#</a> Mining Filecoin</h1> <p>This section provides an overview of how mining works as well as a step-by-step guide to mining on the Filecoin network.</p> <h2 id="table-of-contents"><a href="#table-of-contents" class="header-anchor">#</a> Table of contents</h2> <ul><li><a href="#mining-filecoin">Mining Filecoin</a> <ul><li><a href="#table-of-contents">Table of contents</a></li> <li><a href="#what-is-mining">What is mining?</a></li> <li><a href="#start-mining">Start mining</a></li> <li><a href="#explore-mined-blocks">Explore mined blocks</a></li> <li><a href="#set-your-price-for-storage">Set your price for storage</a></li> <li><a href="#accept-a-deal-and-get-paid">Accept a deal and get paid</a></li> <li><a href="#stop-mining">Stop mining</a></li> <li><a href="#advanced-options">Advanced options</a>
- <a href="#specify-where-client-data-is-stored">Specify where client data is stored</a></li></ul></li></ul> <h2 id="what-is-mining"><a href="#what-is-mining" class="header-anchor">#</a> What is mining?</h2> <p>In most blockchain protocols, &quot;miners&quot; are the participants on the network that do the work necessary to advance the blockchain and maintain its validity. For providing these services, miners are compensated in the native cryptocurrency. The term &quot;miner&quot; emerged in the initial Proof-of-Work era, comparing the work done by hardware miners using computational power to secure blockchains with that of gold miners whom expended vast physical resources for a chance at a large payout.</p> <p>The Filecoin network will have multiple types of miners:</p> <ul><li><strong>Storage miners</strong>, responsible for storing files and data on the network.</li> <li><strong>Retrieval miners</strong>, responsible for providing quick pipes to retrieve files.</li> <li><strong>Repair miners</strong>, which are to be implemented.</li></ul> <p>In the current implementation, the focus is mostly on storage miners, which sell storage capacity in exchange for FIL.</p> <p>After the daemon has finished syncing and validating the chain, a miner can be created straight away. Mining blocks on the Filecoin network requires committing storage capacity to the network. Blocks are mined and block rewards earned in equal proportion to the amount of storage committed.</p> <h2 id="start-mining"><a href="#start-mining" class="header-anchor">#</a> Start mining</h2> <p>To create a miner, a sector size and pledge collateral must be included, as well as &quot;gas&quot;; a small fee provided to send the pledge message to the Filecoin blockchain, similar to a postage stamp.</p> <ol><li><p>Generate the proof parameters for proving/verification</p> <div class="language-sh extra-class"><pre class="language-sh"><code>./go-sectorbuilder/paramcache
</code></pre></div></li> <li><p>Create a miner with 100 FIL as collateral, using the default sector size (256MiB), with a message gas price of 0.001 FIL/unit and limit of 300 gas units:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>go-filecoin miner create <span class="token number">100</span> --gas-price<span class="token operator">=</span><span class="token number">0.001</span> --gas-limit<span class="token operator">=</span><span class="token number">300</span>   <span class="token comment"># this may take a minute</span>
</code></pre></div></li></ol> <blockquote><p><strong>NOTICE:</strong> This step may take about a minute to process, but if it hangs for longer, double-check that <code>(gas-price * gas-limit)</code> is less than <code>$YOUR_WALLET_BALANCE</code>.</p></blockquote> <p>When successful, it returns the miner address of the newly created miner.</p> <ol start="3"><li><p>Once the miner is created, run the following to start mining:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>go-filecoin mining start
</code></pre></div></li></ol> <h2 id="explore-mined-blocks"><a href="#explore-mined-blocks" class="header-anchor">#</a> Explore mined blocks</h2> <p>The Filecoin blockchain can be explored using the community-managed block explorers <a href="https://filscout.io" target="_blank" rel="noopener noreferrer">filscout.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://filscan.io" target="_blank" rel="noopener noreferrer">filscan.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, and <a href="https://filfox.io/" target="_blank" rel="noopener noreferrer">filfox.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, or via the command line.  For example, to retrieve the <code>blockID</code> of the very first block -- or the 'head block' -- of the blockchain:</p> <ol><li>Show the chain head and copy the a block ID (there may be more than one):<div class="language-sh extra-class"><pre class="language-sh"><code>go-filecoin chain <span class="token function">head</span> <span class="token comment"># returns JSON including the &lt;blockID&gt; of the chain head</span>
</code></pre></div></li> <li>Then, view the contents of that block with <code>show block</code>:<div class="language-sh extra-class"><pre class="language-sh"><code>go-filecoin show block <span class="token operator">&lt;</span>blockID<span class="token operator">&gt;</span>
</code></pre></div></li></ol> <blockquote><p><strong>NOTICE:</strong> Many commands also support a <code>--enc=json</code> option for machine-readable output.</p></blockquote> <h2 id="set-your-price-for-storage"><a href="#set-your-price-for-storage" class="header-anchor">#</a> Set your price for storage</h2> <p>In the Filecoin storage market, miners run a command that sets their price for storage by creating an <em>ask order</em>. This ask order provides the miners available storage capacity as well as the price per unit they are requesting. Clients propose <em>deals</em> to miners for the files they want to store. Setting a price requires the following values:</p> <ol><li>The price at which you are willing to sell that much storage (in <code>FIL/byte/block</code>).</li> <li>The number of blocks for which this asking price is valid.</li> <li>The price to pay for each gas unit consumed mining this message (in FIL).</li> <li>The maximum number of gas units to be consumed by this message.</li></ol> <p>Let's set our price!</p> <ol><li>Set the price to 0.000000001 FIL/byte/block, valid for 2880 blocks, with a message gas price of 0.001 FIL/unit and limit of 1000 gas units:<div class="language-sh extra-class"><pre class="language-sh"><code>go-filecoin miner set-price --gas-price<span class="token operator">=</span><span class="token number">0.001</span> --gas-limit<span class="token operator">=</span><span class="token number">1000</span> <span class="token number">0.000000001</span> <span class="token number">2880</span>
</code></pre></div></li> <li>Once complete, check <code>client list-asks</code> for your miner address to ensure it has been set:<div class="language-sh extra-class"><pre class="language-sh"><code>go-filecoin client list-asks --enc<span class="token operator">=</span>json <span class="token operator">|</span> jq
</code></pre></div></li></ol> <h2 id="accept-a-deal-and-get-paid"><a href="#accept-a-deal-and-get-paid" class="header-anchor">#</a> Accept a deal and get paid</h2> <p>Clients propose storage deals to miners who have enough storage and at a price that they are willing to accept.  Currently, miners accept all deals that are proposed to them by clients with sufficient funds. Payment validation is done automatically, and not additional input is required to accept a deal that covers the asking price.  Deal payments are implemented using Filecoin's built-in payment channels. Thus, miners are periodically credited funds in a payment channel throughout the lifetime of the deal.</p> <ol><li><p>To see all deals your miner has made:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>go-filecoin deals list --miner
</code></pre></div></li> <li><p>A list containing metadata about deals will be printed out, like so:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
<span class="token property">&quot;minerAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t2mpmyigmpopcwguhe2tpdeonoppuht5mtvd2ljcq&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;pieceCid&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;/&quot;</span><span class="token operator">:</span> <span class="token string">&quot;QmbHmUVAkqZjQXgifDady7m5cYprX1fgtGaTYxUBBTX3At&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;proposalCid&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;/&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zDPWYqFD8U3ktr58iiqWTwzEV3sKyz7SGQjLg1zKS1Mgpo5N2nr1&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;staged&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>To get more information about a specific deal:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>go-filecoin deals show <span class="token operator">&lt;</span>proposal-cid<span class="token operator">&gt;</span>
</code></pre></div></li></ol> <p>In the above example <code>&lt;proposal-cid&gt;</code> would be <code>zDPWYqFD8U3ktr58iiqWTwzEV3sKyz7SGQjLg1zKS1Mgpo5N2nr1</code>. It is possible to inspect the current state of a deal, how long the agreed storage period is, and how much payout will be recieved for honoring the deal.</p> <ol start="4"><li>When the deal duration is up you can redeem your full payment by running<div class="language-sh extra-class"><pre class="language-sh"><code>go-filecoin deals redeem --gas-price<span class="token operator">=</span><span class="token number">0.001</span> --gas-limit<span class="token operator">=</span><span class="token number">1000</span> <span class="token operator">&lt;</span>proposal-cid<span class="token operator">&gt;</span>
</code></pre></div></li></ol> <p>This will submit a message to the blockchain redeeming funds from the payment channel set up in the client.  Once the output message is processed by the network, the deal's payout will be visibile in the user's wallet.</p> <h2 id="stop-mining"><a href="#stop-mining" class="header-anchor">#</a> Stop mining</h2> <p>To stop mining altogether:</p> <div class="language- extra-class"><pre><code>```sh
go-filecoin mining stop
```
</code></pre></div><ol start="2"><li><p>To remove all data associated with your Filecoin node instance:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">rm</span> -rf ~/.filecoin
</code></pre></div></li></ol> <h2 id="advanced-options"><a href="#advanced-options" class="header-anchor">#</a> Advanced options</h2> <h4 id="specify-where-client-data-is-stored"><a href="#specify-where-client-data-is-stored" class="header-anchor">#</a> Specify where client data is stored</h4> <p>There are two ways to specify the location of the sector storage directory:</p> <ul><li>the <code>sectorbase.rootdir</code> config entry</li> <li>the <code>--sectordir</code> option to <code>go-filecoin init</code></li></ul> <p>If a location is not specified, the data is stored in a directory named <code>.filecoin_sectors</code> underneath the parent directory of the Filecoin repo directory.</p> <div class="language-sh extra-class"><pre class="language-sh"><code>repo-dir-parent <span class="token punctuation">(</span><span class="token environment constant">$HOME</span> by default<span class="token punctuation">)</span>
   repo-dir
   .filecoin_sectors
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/filecoin-project/docs/edit/master/docs/Mining-Filecoin.md" target="_blank" rel="noopener noreferrer">Suggest an Edit</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/8/2021, 7:01:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Getting-Started.html" class="prev">
        Getting started
      </a></span> <span class="next"><a href="/Storing-on-Filecoin.html">
        Storing on Filecoin
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.9cf591df.js" defer></script><script src="/assets/js/2.a315f92a.js" defer></script><script src="/assets/js/12.a74e2394.js" defer></script>
  </body>
</html>

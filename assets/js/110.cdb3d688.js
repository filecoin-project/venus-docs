(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{488:function(t,s,a){"use strict";a.r(s);var n=a(17),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[t._v("#")]),t._v(" 准备")]),t._v(" "),a("p",[t._v("在深入部署您的挖矿操作之前，请确保您已完成以下步骤。")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("建议您在部署到主网上之前在"),a("code",[t._v("calibration")]),t._v("网络中测试您的配置。")])]),t._v(" "),a("h3",{attrs:{id:"永久存储"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#永久存储"}},[t._v("#")]),t._v(" 永久存储")]),t._v(" "),a("p",[t._v("选择您熟悉的网络文件系统（例如 NFS）并部署您的存储集群。")]),t._v(" "),a("h3",{attrs:{id:"在共享模块中设置您的帐户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在共享模块中设置您的帐户"}},[t._v("#")]),t._v(" 在共享模块中设置您的帐户")]),t._v(" "),a("p",[t._v("有两种方法可以配置您的帐户。")]),t._v(" "),a("h4",{attrs:{id:"对于需接入共享模块的用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对于需接入共享模块的用户"}},[t._v("#")]),t._v(" 对于需接入共享模块的用户")]),t._v(" "),a("p",[t._v("如果您尝试连接到第三方托管的共享venus模块，联系上述服务的管理员并让他们为您设置。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("venus-wallet 可以部署为链服务或者本地组件，具体取决于您的安全要求。")])]),t._v(" "),a("h4",{attrs:{id:"对于共享模块的管理员"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对于共享模块的管理员"}},[t._v("#")]),t._v(" 对于共享模块的管理员")]),t._v(" "),a("p",[t._v("如果您是托管共享 venus 模块的管理员，请使用以下命令注册各个集群。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建user,默认激活状态")]),t._v("\n$ ./venus-auth user "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ACCOUNT_NAME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 激活user")]),t._v("\n$ ./venus-auth user update --name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ACCOUNT_NAME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --state "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 绑定节点号")]),t._v("\n$ ./venus-auth user miner "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ACCOUNT_NAME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MinerID"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 为此账号分配token，用于接入服务层验证")]),t._v("\n$ ./venus-auth token gen --perm "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ACCOUNT_NAME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AUTH_TOKEN_FOR_ACCOUNT_NAME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h3",{attrs:{id:"软件依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#软件依赖"}},[t._v("#")]),t._v(" 软件依赖")]),t._v(" "),a("p",[t._v("在运行"),a("code",[t._v("Venus")]),t._v("之前，您需要安装"),a("a",{attrs:{href:"https://lotus.filecoin.io/lotus/install/linux/#software-dependencies",target:"_blank",rel:"noopener noreferrer"}},[t._v("这些"),a("OutboundLink")],1),t._v("软件。（注：和lotus的软件依赖相同）")]),t._v(" "),a("h2",{attrs:{id:"安装venus-wallet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装venus-wallet"}},[t._v("#")]),t._v(" 安装venus-wallet")]),t._v(" "),a("p",[t._v("下载并编译"),a("code",[t._v("Venus-wallet")]),t._v("的源代码。")]),t._v(" "),a("ul",[a("li",[t._v("首次编译")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/filecoin-project/venus-wallet.git\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# change directory to venus-wallet")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" venus-wallet\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("LATEST_RELEASE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n")])])]),a("ul",[a("li",[t._v("曾经成功编译过")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# change directory to venus-wallet,switch to the incubation branch")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" fetch\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull\n")])])]),a("p",[t._v("在后台运行"),a("code",[t._v("venus-wallet")]),t._v("模块。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus-wallet run "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" wallet.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("tail -f wallet.log")]),t._v(" 来监控钱包日志。")])]),t._v(" "),a("p",[t._v("为您的"),a("code",[t._v("venus-wallet")]),t._v("设置密码")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ./venus-wallet setpwd\nPassword:******\nEnter Password again:******\nPassword "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" successfully\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("请备份您的密码并妥善保存，否则你将无法使用wallet相关的功能。每次venus-wallet run启动时带--password标志会自动解锁钱包,如果没带,在wallet实例启动后你需要手动解锁:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ./venus-wallet unlock\nPassword: \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看解锁状态")]),t._v("\n$ ./venus-wallet lock-state\nwallet state: unlocked\n")])])]),a("p",[t._v("在扇区封装的过程中需要调用wallet进行签名,如果不解锁,会导致签名失败,进而导致扇区任务失败.")])]),t._v(" "),a("p",[t._v("生成owner和worker地址。（如果您没有现有的miner ID）")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ./venus-wallet new bls\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("OWNER_ADDRESS"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ ./venus-wallet new bls\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("WORKER_ADDRESS"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("如果您在"),a("code",[t._v("Calibration")]),t._v("上进行测试，则必须使用来自水龙头的测试币为您的所有地址提供资金。对于校准网，请使用此"),a("a",{attrs:{href:"https://faucet.calibration.fildev.network/funds.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("水龙头"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("p",[a("em",[a("strong",[t._v("配置venus-wallet接入共享服务,使用您从共享模块管理员处获得的帐号信息更改 "),a("code",[t._v("~/.venus_wallet/config.toml")]),t._v("中的"),a("code",[t._v("[APIRegisterHub]")]),t._v(" 部分")])])]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("APIRegisterHub")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("RegisterAPI")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/<IP_ADDRESS_OF_VENUS_GATEWAY>/tcp/45132"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Token")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<AUTH_TOKEN_FOR_ACCOUNT_NAME>"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("SupportAccounts")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<ACCOUNT_NAME>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("重新启动"),a("code",[t._v("venus-wallet")]),t._v("以使更改生效。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep [PID] of venus-wallet process")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" wallet\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kill the process and restart")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("PID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus-wallet run "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" wallet.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),a("p",[t._v("如成功连接 "),a("code",[t._v("venus-gateway")]),t._v("，您将看到以下日志。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-07-12T15:14:12.457+0800    INFO    wallet_event    wallet_event/listenevent.go:197 connect to server fcf714b2-eeb6-498b-aafc-5e58eccd9d0f  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api hub"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/<IP_ADDRESS>/tcp/45132"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("建议使用"),a("code",[t._v("systemd")]),t._v("或"),a("code",[t._v("supervisord")]),t._v("等线程控制。")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v('请确保venus-wallet 处于unlocked状态，要么会在Sealer模块初始化时卡在 "Waiting for confirmation"，导致miner帐号生成不了。')])]),t._v(" "),a("h2",{attrs:{id:"安装venus-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装venus-cluster"}},[t._v("#")]),t._v(" 安装venus-cluster")]),t._v(" "),a("p",[t._v("下载代码。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/ipfs-force-community/venus-cluster.git\n")])])]),a("p",[t._v("编译"),a("code",[t._v("venus-cluster")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" venus-cluster\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("LATEST_RELEASE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" all\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("编译完成后，会在 ./dist/bin 目录下有"),a("code",[t._v("venus-worker")]),t._v("和"),a("code",[t._v("venus-sector-manager")]),t._v("两个可执行文件。")])]),t._v(" "),a("h3",{attrs:{id:"venus-sector-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#venus-sector-manager"}},[t._v("#")]),t._v(" venus-sector-manager")]),t._v(" "),a("p",[t._v("初始化工作目录")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("./dist/bin/venus-sector-manager daemon init\n")])])]),a("h3",{attrs:{id:"创建矿工号-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建矿工号-可选"}},[t._v("#")]),t._v(" 创建矿工号（可选）")]),t._v(" "),a("p",[t._v("创建矿工号。（如果已经有矿工号可以跳过此步）")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ./venus-sector-manager util miner create \n--from"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("OWNER_ADDRESS"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n--owner"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("OWNER_ADDRESS"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n--worker"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("WORKER_ADDRESS"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n--sector-size"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("32GiB\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("使用"),a("code",[t._v("--net")]),t._v("来选择网络，默认为主网。")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("成功创建矿工号会有类似以下日志输出：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("-05-09T07:29:51.325Z  INFO  cmd  internal/util_miner.go:242  miner actor: t01219 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t2z4nnndtt2iuu57lq3ivor7xdvqwivwb5renrh3a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"512MiB"')]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"from"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t3wultr2i47m24ew2p3bskclnb4rtgmuwb6cwjleqbeu4ndqocx67635dibpsq3ugpbv5y7fpjlpxlmkqcgnva"')]),t._v(", \n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actor"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t01166"')]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"owner"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t3wultr2i47m24ew2p3bskclnb4rtgmuwb6cwjleqbeu4ndqocx67635dibpsq3ugpbv5y7fpjlpxlmkqcgnva"')]),t._v(", \n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"worker"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t3wultr2i47m24ew2p3bskclnb4rtgmuwb6cwjleqbeu4ndqocx67635dibpsq3ugpbv5y7fpjlpxlmkqcgnva"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("h3",{attrs:{id:"配置venus-sector-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置venus-sector-manager"}},[t._v("#")]),t._v(" 配置venus-sector-manager")]),t._v(" "),a("p",[t._v("按需配置默认配置文件"),a("code",[t._v("~/.venus-sector-manager/sector-manager.cfg")]),t._v("。这里给出一份参考，详细配置说明可以参见"),a("a",{attrs:{href:"/zh/cluster/Venus-Sector-Manager"}},[t._v("这里")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Common")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Common.API")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 链服务地址，必填项，字符串类型")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Chain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/{api_host}/tcp/{api_port}"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 消息服务地址，必填项，字符串类型")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Messager")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/{api_host}/tcp/{api_port}"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 市场服务地址，封装真实数据时为必填项，字符串类型，CC数据非必填项")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# Market = "/ip4/{api_host}/tcp/{api_port}"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 网关服务地址，必填项，字符串类型")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Gateway")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/{api_host}/tcp/{api_port}"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 服务 token， 必填项，字符串类型")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Token")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{auth token}"')]),t._v("\n   \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Common.PieceStores")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路径，必填项，字符串类型")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#Path = "{store_path}"')]),t._v("\n   \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Common.PersistStores")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 名称， 选填项，字符串类型")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Name")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{store_name1}"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路径，必填项，字符串类型，建议使用绝对路径")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Path")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{store_path1}"')]),t._v("\n   \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Common.PersistStores")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Name")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{store_name2}"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Path")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{store_path2}"')]),t._v("\n   \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Miners")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# `SP` actor id， 必填项，数字类型，t033680->33680")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Actor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33680")]),t._v("\n   \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Miners.Sector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 扇区起始编号，选填项，数字类型，默认值为 0")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("InitNumber")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 扇区编号上限，选填项，数字类型，默认值为 null， 表示无上限限制")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("MaxNumber")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否允许分配扇区， 选填项，布尔类型，默认值为 true， 即开启分配")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Enabled")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 真实订单")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("EnableDeals")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n   \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Miners.Commitment.Pre")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 发送地址，必填项，地址类型，miner的worker地址")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Sender")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t3vi4amwofexsfpontn5g722psgikzochthhhu3ptvofzrqmgajs67gt5n2ririlc4hj667dvfsn3kmxiwgtya"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单条提交消息的 Gas 估算倍数，选填项，浮点数类型，默认值为1.2")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#GasOverEstimation = 1.2")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单条提交消息的FeeCap 限制，选填项，FIL值类型，默认值为 5 nanoFIL")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#MaxFeeCap = "5 nanoFIL"')]),t._v("\n   \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Miners.Commitment.Pre.Batch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否启用聚合提交，选填项，布尔类型，默认值为 false， 即不启用")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Enabled")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 最小聚合条数，选填项，数字类型，默认值为 16，即最小聚合条数为 16条")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Threshold = 16")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 最大等待时间，选填项，时间类型，默认值为 1h，即最大等待 1 小时")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#MaxWait = "1h0m0s"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检查间隔，选填项，时间类型，默认值为 1min，即每隔 1min 检查一次是否满足聚合条件")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#CheckInterval = "1m0s"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 聚合提交消息的 Gas 估算倍数，选填项，浮点数类型，默认值为 1.2")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#GasOverEstimation = 1.2")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 聚合提交消息的FeeCap 限制，选填项，FIL值类型，默认值为 5 nanoFIL")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#MaxFeeCap = "5 nanoFIL"')]),t._v("\n   \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#用于配置 ProveCommit 消息提交的策略，其配置项和作用与 Miners.Commitment.Pre内的完全一致。")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Miners.Commitment.Prove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Sender")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t3vi4amwofexsfpontn5g722psgikzochthhhu3ptvofzrqmgajs67gt5n2ririlc4hj667dvfsn3kmxiwgtya"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#GasOverEstimation = 1.2")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#MaxFeeCap = "5 nanoFIL"')]),t._v("\n   \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Miners.Commitment.Prove.Batch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Enabled")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Threshold = 16")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#MaxWait = "1h0m0s"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#CheckInterval = "1m0s"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#GasOverEstimation = 1.2")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#MaxFeeCap = "5 nanoFIL"')]),t._v("\n   \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Miners.PoSt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 发送地址，必填项，地址类型")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Sender")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t3vi4amwofexsfpontn5g722psgikzochthhhu3ptvofzrqmgajs67gt5n2ririlc4hj667dvfsn3kmxiwgtya"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否启用，选填项，布尔类型，默认值为 true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Enabled")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否对扇区文件进行强校验，选填项，布尔类型，默认值为 true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启时，除了对文件存在性进行判断外，还会尝试读取部分信息，如元数据等")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#StrictCheck = true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# WindowPoSt 消息的 Gas 估算倍数，选填项，浮点数类型，默认值为 1.2")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#GasOverEstimation = 1.2")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# WindowPoSt 消息的FeeCap 限制，选填项，FIL值类型，默认值为 5 nanoFIL")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#MaxFeeCap = "5 nanoFIL"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 消息的稳定高度，选填项，数字类型，默认值为 10")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Confidence = 10")]),t._v("\n   \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Miners.Proof")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否启用，选填项，布尔类型，默认值为 false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Enabled")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n   \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Miners.Deal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否启用订单，选填项，布尔类型，默认值为 false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Enabled")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),a("p",[t._v("启动"),a("code",[t._v("venus-sector-manager")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ./dist/bin/venus-sector-manager --net"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("cali daemon run --poster --miner --listen "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:1789\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("使用"),a("code",[t._v("--net")]),t._v("来选择网络，默认为主网。")])]),t._v(" "),a("h3",{attrs:{id:"venus-worker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#venus-worker"}},[t._v("#")]),t._v(" venus-worker")]),t._v(" "),a("p",[t._v("规划用于封装过程中数据的本地存储，并使用以下命令创建并初始化数据目录。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ./dist/bin/venus-worker store sealing-init -l "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("dir"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("dir"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("dir"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("p",[t._v("挂载持久化数据目录，并使用以下命令初始化数据目录。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ./dist/bin/venus-worker store file-init -l "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("dir"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n")])])]),a("p",[t._v("规划用于各封装阶段的CPU核、numa 区域等配置。按需完成配置文件。以下为"),a("code",[t._v("worker")]),t._v("配置例子，更详细的配置项、作用、配置方法可以参考"),a("a",{attrs:{href:"/zh/cluster/Venus-Worker-c"}},[t._v("这个")]),t._v("文档。")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("worker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 实例名，选填项，字符串类型，默认以连接 `venus-sector-manager` 所使用的网卡 IP 地址作为实例名")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# name = "bytest"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc 服务监听地址，选填项，字符串类型， 默认为"0.0.0.0"，即监听本机所有地址')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc_server.host = "0.0.0.0"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rpc 服务监听端口，选填项，数字类型，默认为17890")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rpc_server.port = 17890")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sector_manager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 构造 rpc 客户端时使用的连接地址，必填项，字符串类型")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("rpc_client.addr")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/{some_ip}/tcp/1789"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc_client.headers = { User-Agent = "jsonrpc-core-client" }')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# piece_token = "{auth token}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 允许的`SP`，选填项，数字数组格式")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("allowed_miners")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33680")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 允许的扇区大小，选填项，字符串数组格式，["32GiB", "64GiB"]')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("allowed_sizes")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"32GiB"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"64GiB"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否允许向扇区内添加订单，选填项，布尔类型，默认为 false。")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 当设置为 true 时，通常需要同时设置 `sector_manager` 中的 `piece_token` 项")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# enable_deals = true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 封装过程中遇到 temp 类型的错误时，重试的次数，选填项，数字格式，默认为 5")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# max_retries = 3")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 封装过程中遇到 temp 类型的错误时，重试的间隔，选填项，时间字符串格式，默认为 “30s"， 即30秒')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# seal_interval = "30s"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 空闲的 `sealing_store` 申请封装任务的间隔， 选填项，时间字符串格式，默认为 ”30s"， 即30秒')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# recover_interval = "30s"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc 状态轮询请求的间隔，选填项，时间字符串格式，默认为 ”30s"， 即30秒')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 封装过程中，部分环节使用了轮询方式来获取非实时的信息，如消息上链等。这个值有助于避免过于频繁的请求占用网络资源")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc_polling_interval = "30s"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否跳过 proof 的本地校验环节，选填项，布尔格式，默认为 false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ignore_proof_check = false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 根据实际资源规划")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 扇区数据目录路径，必填项，字符串类型，建议使用绝对路径，数据目录和工作线程是一对一绑定的")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store1}"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 封装过程的定制参数，仅对当前工作线程生效")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.allowed_miners = [10123, 10124, 10125]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.allowed_sizes = ["32GiB", "64GiB"]')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.enable_deals = true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.max_retries = 3")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.seal_interval = "30s"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.recover_interval = "30s"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.rpc_polling_interval = "30s"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.ignore_proof_check = false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store2}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store3}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store4}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store5}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store6}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store7}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store8}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# attached用于配置已完成的扇区持久化数据保存的位置，允许同时配置多个。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("attached")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 名称， 选填项，字符串类型，默认为路径对应的绝对路径")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("name")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bytest"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路径，必填项，字符串类型，建议直接填写绝对路径")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/xx/xx/xxx"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只读，选填项，布尔类型，默认值为 false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#readonly = false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.static_tree_d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("32GiB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to static tree_d for 32GiB}"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("64GiB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to static tree_d for 64GiB}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 根据实际资源规划")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pc1 阶段的并发数限制，选填项，数字类型")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("pc1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pc2 阶段的并发数限制，选填项，数字类型")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("pc2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# c2 阶段的并发数限制，选填项，数字类型")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("c2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fields for pc1 processors")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# numa 亲和性分区 id，选填项，数字类型，默认值为 null，不会设置亲和性，需要根据宿主机的 numa 分区进行填写")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cpu 核绑定和限制选项，选填项，字符串类型，默认值为 null，不设置绑定，值的格式遵循标准 cgroup.cpuset 格式")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0-7"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 声明本processor支持的最多并发量")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("concurrent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 外部执行器的附加环境变量，选填项，字典类型，默认值为 null")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_MULTICORE_SDR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12-19"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("concurrent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_MULTICORE_SDR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8-11,24-27"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_COLUMN_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_TREE_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20-23,36-39"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_COLUMN_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_TREE_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"28-35"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2,3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.tree_d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"40-45"')]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("您也可以参考社区"),a("code",[t._v("venus-cluster")]),t._v("性能测试的相关"),a("a",{attrs:{href:"https://github.com/filecoin-project/venus/discussions/4866",target:"_blank",rel:"noopener noreferrer"}},[t._v("技术文档"),a("OutboundLink")],1),t._v("，作为参考。")])]),t._v(" "),a("p",[t._v("使用启动"),a("code",[t._v("venus-worker")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ /path/to/venus-worker daemon -c /path/to/venus-worker.toml\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("以上关于sector-manager.cfg和venus-worker.toml配置文件只是一份最简单的可运行配置，其他配置的详细信息可参"),a("RouterLink",{attrs:{to:"/zh/cluster/"}},[t._v("这些文档")]),t._v("。")],1)]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("关于配置文件需要注意的是："),a("code",[t._v("venus-worker.toml")]),t._v("的"),a("code",[t._v("[[attached]]")]),t._v("中的"),a("code",[t._v('name = "xxx"')]),t._v(" 和路径要与"),a("code",[t._v("sector-manager.cfg")]),t._v("中的"),a("code",[t._v('[[Common.PersistStores]] Name = "xxx"')]),t._v("和路径一致。")])]),t._v(" "),a("h2",{attrs:{id:"问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[t._v("#")]),t._v(" 问题?")]),t._v(" "),a("p",[t._v("来"),a("a",{attrs:{href:"https://filecoinproject.slack.com/archives/C028PCH8L31",target:"_blank",rel:"noopener noreferrer"}},[t._v("Slack"),a("OutboundLink")],1),t._v("上找我们吧！")])])}),[],!1,null,null,null);s.default=e.exports}}]);